{"version":3,"sources":["../src/index.js"],"names":["LEFT","RIGHT","EXPAND_UP","EXPAND_DOWN","ESC","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","ARROWS","WINDOW_PAD","matches","openPath","path","i","length","stopPropagation","e","preventDefault","getByValue","options","value","comparator","a","b","undefined","opt","children","childResult","MultiSelectMenu","props","getLabel","placeholder","label","console","error","Array","isArray","selectedOption","className","menuClassName","dark","onChange","rowHeight","childWidth","title","Component","defaultProps","MultiMenuWrapper","handleHover","setState","handleKeyDown","indexOf","which","state","align","expandDirection","isSubMenu","menu","onSelect","position","isStyledMenu","verticalExpand","top","maxHeight","window","innerHeight","bottom","width","DEFAULT_ROW_HEIGHT","MultiMenu","evaluateMenu","setOverflow","newProps","basePath","onHover","getMenu","overflowBefore","overflowAfter","styles","handleScroll","menuRef","map","itm","concat","handleOverflowScroll","renderOpenMenu","_el","nested","openIndex","inline","openMenu","windowHeight","scrollTop","offsetTop","getBoundingClientRect","calculatedHeight","currentItemOffset","positionTop","currentOpenPath","diff","maxDiff","Math","min","nativeEvent","stopImmediatePropagation","amount","el","scrollOffset","evaluateMenuSub","indent","result","parentItem","subtitle","push","_evaluatedMenu","OverflowControl","scrollAction","direction","onScroll","handleMouseLeave","clearInterval","_timer","handleMouseEnter","setInterval","MenuSpacer","MenuItem","handleClick","data","onClick","getChildren","hasChildren","disabled","slice","height","open","clickAction","paddingLeft","childrenOnly","type","log","MultiMenuTrigger","expanded","getMenuWidth","fitParent","menuWidth","element","rect","windowWidth","innerWidth","center","left","right","verticalCenter","MENU_PAD","handleSelect","val","handleClickOutside","target","handleClose","handleBlur","elementRef","addEventListener","removeEventListener","MenuPortal","_node","document","createElement","body","appendChild","setTimeout","removeChild","ReactDOM","createPortal","getNode"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport classNames from 'classnames'\nimport DocumentEvents from 'react-document-events'\n\nimport { isDescendent } from './dom'\n\nimport {\n  getMenuHeight,\n  getMenuItemOffset,\n  MENU_PAD,\n  DEFAULT_ROW_HEIGHT,\n} from './sizing'\n\nconst LEFT = 'left'\nconst RIGHT = 'right'\nconst EXPAND_UP = 'up'\nconst EXPAND_DOWN = 'down'\nconst ESC = 27\n\nconst LEFT_ARROW = 37\nconst UP_ARROW = 38\nconst RIGHT_ARROW = 39\nconst DOWN_ARROW = 40\n\nconst ARROWS = [LEFT_ARROW, UP_ARROW, RIGHT_ARROW, DOWN_ARROW]\n\nconst WINDOW_PAD = 16\n\nexport const matches = (openPath, path) => {\n  for (let i = 0; i < path.length; i += 1) {\n    if (openPath[i] !== path[i]) {\n      return false\n    }\n  }\n\n  return true\n}\n\nconst stopPropagation = e => {\n  e.preventDefault()\n}\n\n// Implements depth first search to find current value\nconst getByValue = (options, value, comparator = null) => {\n  if (!comparator) {\n    comparator = (a, b) => a === b\n  }\n\n  if (!options || typeof options !== 'object') {\n    return undefined\n  }\n\n  for (let opt of options) {\n    if (!opt || value === undefined || value === null) {\n      continue\n    }\n\n    if (comparator(opt.value, value)) {\n      return opt\n    }\n\n    if (opt.children) {\n      let childResult = getByValue(opt.children, value, comparator)\n\n      if (childResult) {\n        return childResult\n      }\n    }\n  }\n}\n\nexport default class MultiSelectMenu extends Component {\n  static defaultProps = {\n    placeholder: 'Select...',\n    options: [],\n  }\n\n  getLabel() {\n    let { value, options, getLabel, placeholder, comparator } = this.props\n\n    let label = null\n\n    if (typeof options === 'function' && !getLabel) {\n      console.error(\n        'Warning: if options is a function, getLabel must also be provided'\n      )\n    }\n\n    if (getLabel) {\n      label = getLabel(value)\n    } else if (Array.isArray(options)) {\n      let selectedOption = getByValue(options, value, comparator)\n\n      if (selectedOption) {\n        label = selectedOption.label\n      }\n    }\n\n    if (!label) {\n      return (\n        <span className=\"multi-select-menu-placeholder\">{placeholder}</span>\n      )\n    }\n\n    return label\n  }\n\n  render() {\n    let {\n      className,\n      menuClassName,\n      comparator,\n      dark,\n      onChange,\n      options,\n      rowHeight,\n      childWidth,\n    } = this.props\n\n    let label = this.getLabel()\n    let title = typeof label === 'string' ? label : undefined\n\n    return (\n      <MultiMenuTrigger\n        fitParent\n        isStyledMenu\n        className={classNames('multi-select-menu', className)}\n        dark={dark}\n        menu={options}\n        onSelect={onChange}\n        menuClassName={menuClassName}\n        rowHeight={rowHeight}\n        childWidth={childWidth}\n      >\n        <div className=\"multi-select-menu-selection\" title={title}>\n          <span className=\"multi-select-menu-value\">{label}</span>\n          <span className=\"multi-select-menu-expand-icon\" />\n        </div>\n      </MultiMenuTrigger>\n    )\n  }\n}\n\nexport class MultiMenuWrapper extends Component {\n  static defaultProps = {\n    expandDirection: RIGHT,\n    verticalExpand: EXPAND_DOWN,\n    rowHeight: DEFAULT_ROW_HEIGHT,\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      openPath: [],\n    }\n  }\n\n  handleHover = openPath => {\n    this.setState({ openPath })\n  }\n\n  handleKeyDown = e => {\n    // Prevent arrow-triggered scrolling\n    if (ARROWS.indexOf(e.which) >= 0) {\n      e.preventDefault()\n    }\n\n    if (e.which === UP_ARROW) {\n      // console.log(\"GETTING PREVIOUS VALUE\")\n    } else if (e.which === DOWN_ARROW) {\n      // console.log(\"GETTING NEXT VALUE\")\n    }\n  }\n\n  render() {\n    let {\n      align,\n      expandDirection,\n      isSubMenu,\n      menu,\n      onSelect,\n      position,\n      isStyledMenu,\n      className,\n      verticalExpand,\n      rowHeight,\n      childWidth,\n    } = this.props\n\n    let { openPath } = this.state\n\n    if (!position) {\n      position = { top: WINDOW_PAD }\n    }\n\n    let maxHeight\n\n    if (verticalExpand === EXPAND_UP) {\n      maxHeight = window.innerHeight - position.bottom - WINDOW_PAD\n    } else {\n      maxHeight = window.innerHeight - position.top - WINDOW_PAD\n    }\n\n    return (\n      <div\n        className={classNames(\n          'multi-menu-wrapper',\n          `expand-${expandDirection}`,\n          `expand-${verticalExpand}`,\n          className,\n          { 'multi-menu-wrapper-attached': isStyledMenu }\n        )}\n        style={position}\n      >\n        <DocumentEvents onKeyDown={this.handleKeyDown} />\n        <MultiMenu\n          {...{ isSubMenu, onSelect }}\n          basePath={[]}\n          menu={menu}\n          openPath={openPath}\n          width={position.width}\n          onHover={this.handleHover}\n          maxHeight={maxHeight}\n          rowHeight={rowHeight}\n          childWidth={childWidth}\n        />\n      </div>\n    )\n  }\n}\n\nexport class MultiMenu extends Component {\n  state = {\n    overflowBefore: false,\n    overflowAfter: false,\n  }\n\n  constructor(props) {\n    super(props)\n    this.evaluateMenu(props)\n  }\n\n  renderOpenMenu = () => {\n    if (!this._el) {\n      return null\n    }\n\n    let {\n      basePath,\n      openPath,\n      onHover,\n      onSelect,\n      rowHeight,\n      nested,\n      childWidth,\n    } = this.props\n\n    let menu = this.getMenu()\n\n    let openIndex\n\n    if (matches(openPath, basePath)) {\n      openIndex = openPath[basePath.length]\n    }\n\n    if (openIndex === undefined || nested) {\n      return null\n    }\n    if (menu[openIndex] && menu[openIndex].inline) {\n      return null\n    }\n\n    let openMenu = menu[openIndex] && menu[openIndex].children\n\n    if (typeof openMenu === 'function') {\n      openMenu = openMenu()\n    }\n\n    let windowHeight = window.innerHeight\n    let scrollTop = this._el.scrollTop\n    let offsetTop = this._el.getBoundingClientRect().top\n    let calculatedHeight = getMenuHeight(openMenu, rowHeight)\n    let currentItemOffset = getMenuItemOffset(menu, openIndex, rowHeight)\n    let positionTop = currentItemOffset - scrollTop\n    let currentOpenPath = basePath.concat([openIndex])\n    let maxHeight = windowHeight - (offsetTop + positionTop) - WINDOW_PAD\n\n    if (maxHeight < calculatedHeight) {\n      let diff = calculatedHeight - maxHeight\n      let maxDiff = windowHeight - maxHeight - 2 * WINDOW_PAD\n\n      diff = Math.min(diff, maxDiff)\n\n      maxHeight += diff\n      positionTop -= diff - 8\n    }\n\n    return (\n      <div\n        className=\"multi-menu-child\"\n        onMouseOver={stopPropagation}\n        onMouseDown={stopPropagation}\n        onClick={stopPropagation}\n        style={{ top: positionTop }}\n      >\n        <MultiMenu\n          basePath={currentOpenPath}\n          menu={openMenu}\n          onHover={onHover}\n          onSelect={onSelect}\n          openPath={openPath}\n          maxHeight={maxHeight}\n          rowHeight={rowHeight}\n          width={childWidth}\n          childWidth={childWidth}\n        />\n      </div>\n    )\n  }\n\n  handleScroll = e => {\n    e.nativeEvent.stopImmediatePropagation()\n    e.stopPropagation()\n\n    this.setOverflow()\n  }\n\n  handleOverflowScroll = amount => {\n    if (!this._el) {\n      return\n    }\n\n    this._el.scrollTop += amount\n\n    this.setOverflow()\n  }\n\n  menuRef = el => {\n    this._el = el\n  }\n\n  setOverflow = () => {\n    let { maxHeight, rowHeight } = this.props\n    let menu = this.getMenu()\n    let calculatedHeight = getMenuHeight(menu, rowHeight)\n\n    if (!this._el) {\n      return\n    }\n\n    let scrollOffset = this._el.scrollTop\n    let overflowBefore = scrollOffset > 10\n    let overflowAfter = calculatedHeight - scrollOffset > maxHeight + 10\n\n    if (\n      overflowBefore !== this.state.overflowBefore ||\n      overflowAfter !== this.state.overflowAfter\n    ) {\n      this.setState({ overflowBefore, overflowAfter })\n    }\n  }\n\n  componentDidMount() {\n    this.setOverflow()\n  }\n\n  componentDidUpdate() {\n    this.setOverflow()\n  }\n\n  evaluateMenuSub = (props = null, indent = 0) => {\n    let { menu } = props || this.props\n\n    if (typeof menu === 'function') {\n      menu = menu()\n    }\n\n    let result = []\n\n    for (let itm of menu) {\n      if (itm && itm.children && itm.inline) {\n        let parentItem = {\n          ...itm,\n          indent,\n          children: null,\n          subtitle: null,\n        }\n\n        let menu = itm.children\n\n        result = result.concat(\n          [parentItem].concat(this.evaluateMenuSub({ menu }, indent + 1))\n        )\n      } else {\n        result.push(itm ? { ...itm, indent } : itm)\n      }\n    }\n\n    return result\n  }\n\n  evaluateMenu = props => {\n    this._evaluatedMenu = this.evaluateMenuSub(props)\n  }\n\n  getMenu = () => {\n    return this._evaluatedMenu\n  }\n\n  shouldComponentUpdate(newProps) {\n    if (newProps.menu !== this.props.menu) {\n      this.evaluateMenu(newProps)\n    }\n\n    return true\n  }\n\n  render() {\n    let {\n      basePath,\n      isSubMenu,\n      onHover,\n      onSelect,\n      openPath,\n      width,\n      maxHeight,\n      rowHeight,\n    } = this.props\n\n    let menu = this.getMenu()\n\n    let { overflowBefore, overflowAfter } = this.state\n\n    let styles = { width, maxHeight }\n\n    return (\n      <div className=\"multi-menu-inner-wrapper\" style={styles}>\n        <div\n          className={classNames('multi-menu', {\n            'multi-menu-overflow-before': overflowBefore,\n            'multi-menu-overflow-after': overflowAfter,\n          })}\n          style={styles}\n          onWheel={this.handleScroll}\n        >\n          <div\n            className=\"multi-menu-scroll-container\"\n            style={styles}\n            ref={this.menuRef}\n          >\n            {menu && menu.length > 0 ? (\n              menu.map((itm, i) => (\n                <MenuItem\n                  key={i}\n                  data={itm}\n                  onHover={onHover}\n                  onSelect={onSelect}\n                  openPath={openPath}\n                  path={basePath.concat([i])}\n                  height={rowHeight}\n                />\n              ))\n            ) : (\n              <div className=\"multi-menu-empty\">Nothing Available</div>\n            )}\n          </div>\n          {overflowBefore ? (\n            <OverflowControl\n              direction=\"up\"\n              onScroll={this.handleOverflowScroll}\n            />\n          ) : null}\n          {overflowAfter ? (\n            <OverflowControl\n              direction=\"down\"\n              onScroll={this.handleOverflowScroll}\n            />\n          ) : null}\n        </div>\n        {this.renderOpenMenu()}\n      </div>\n    )\n  }\n}\n\nexport class OverflowControl extends Component {\n  scrollAction = () => {\n    let { direction, onScroll } = this.props\n    let amount = direction === 'up' ? -6 : 6\n\n    onScroll(amount)\n  }\n\n  handleMouseLeave = () => {\n    window.clearInterval(this._timer)\n  }\n\n  handleMouseEnter = () => {\n    this._timer = window.setInterval(this.scrollAction, 20)\n  }\n\n  componentWillUnmount() {\n    this.handleMouseLeave()\n  }\n\n  render() {\n    let { direction } = this.props\n\n    return (\n      <div\n        className={classNames(\n          'multi-menu-overflow',\n          `multi-menu-overflow-${direction}`\n        )}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}\n      >\n        <div className=\"multi-menu-overflow-icon\" />\n      </div>\n    )\n  }\n}\n\nexport const MenuSpacer = () => <div className=\"multi-menu-spacer\" />\n\nexport class MenuItem extends Component {\n  handleClick = e => {\n    let {\n      data: { value, onClick },\n      onSelect,\n    } = this.props\n\n    if (onClick) {\n      onClick(e)\n    }\n\n    if (!onSelect || (value === undefined && !onClick)) {\n      return\n    }\n\n    onSelect(value)\n  }\n\n  getChildren = () => {\n    let { data } = this.props\n    let { children } = data\n\n    if (typeof children === 'function') {\n      children = children()\n    }\n\n    return children || []\n  }\n\n  hasChildren = () => {\n    let { data } = this.props\n    let { children, inline } = data\n\n    return children && this.getChildren().length > 0 && !inline\n  }\n\n  handleHover = e => {\n    let { data, path, onHover } = this.props\n\n    e.stopPropagation()\n\n    if (data.disabled) {\n      return\n    }\n\n    if (this.hasChildren()) {\n      onHover(path)\n    } else {\n      onHover(path.slice(0, path.length - 1))\n    }\n  }\n\n  render() {\n    let { data, path, onSelect, openPath, height, onHover } = this.props\n\n    if (data === null) {\n      return <MenuSpacer />\n    }\n\n    let { disabled, indent, inline } = data\n\n    let open = matches(openPath, path)\n    let hasChildren = this.hasChildren()\n    let clickAction = data.onClick\n\n    let styles = {\n      height,\n      paddingLeft: 16 * (indent || 0),\n    }\n\n    let childrenOnly = false\n\n    if (data.value === undefined) {\n      if (hasChildren) {\n        childrenOnly = true\n      } else if (!clickAction) {\n        disabled = true\n      } else if (data.type === 'title') {\n        disabled = true\n      }\n    }\n\n    let title = typeof data.label === 'string' ? data.label : undefined\n    let children = this.getChildren()\n\n    console.log(data, 'is title?', data.type === 'title')\n\n    return (\n      <React.Fragment>\n        <div\n          className={classNames('multi-menu-item', {\n            disabled,\n            open,\n            inline,\n            'has-children': hasChildren,\n            'children-only': childrenOnly,\n            'menu-title': data.type === 'title',\n          })}\n          onMouseOver={this.handleHover}\n          onClick={this.handleClick}\n          style={styles}\n        >\n          <div className=\"multi-menu-item-label\" title={title}>\n            {data.label}\n            {data.subtitle && !inline ? (\n              <span className=\"multi-menu-item-subtitle\">{data.subtitle}</span>\n            ) : null}\n          </div>\n        </div>\n      </React.Fragment>\n    )\n  }\n}\n\nexport class MultiMenuTrigger extends Component {\n  state = {\n    expanded: false,\n    position: null,\n    expandDirection: null,\n    verticalExpand: EXPAND_DOWN,\n  }\n\n  getMenuWidth = () => {\n    let { width } = this.props\n\n    return width || 180\n  }\n\n  handleClick = e => {\n    e.stopPropagation()\n    e.preventDefault()\n\n    if (this.state.expanded) {\n      return this.setState({ expanded: false })\n    }\n\n    let { fitParent } = this.props\n    let menuWidth = this.getMenuWidth()\n\n    let position = this.state.position\n    let expandDirection = RIGHT\n    let verticalExpand = EXPAND_DOWN\n\n    if (this.element) {\n      let rect = this.element.getBoundingClientRect()\n      let windowWidth = window.innerWidth\n      let windowHeight = window.innerHeight\n\n      let center = (rect.left + rect.right) / 2\n\n      if (center * 2 > windowWidth) {\n        expandDirection = LEFT\n      }\n\n      let verticalCenter = (rect.top + rect.bottom) / 2\n\n      if (verticalCenter * 2 > windowHeight) {\n        verticalExpand = EXPAND_UP\n      }\n\n      if (verticalExpand === EXPAND_UP) {\n        position = {\n          bottom: windowHeight - rect.top + MENU_PAD,\n          width: menuWidth,\n        }\n      } else {\n        position = { top: rect.bottom + MENU_PAD, width: menuWidth }\n      }\n\n      if (fitParent) {\n        if (verticalExpand === EXPAND_UP) {\n          position = {\n            bottom: windowHeight - rect.top,\n            left: rect.left,\n            width: rect.width,\n          }\n        } else {\n          position = { top: rect.bottom, left: rect.left, width: rect.width }\n        }\n      } else if (center - menuWidth / 2 < 20) {\n        position.left = rect.left\n      } else if (center + menuWidth / 2 > windowWidth - 20) {\n        position.left = rect.right - menuWidth\n      } else {\n        position.left = center - menuWidth / 2\n      }\n    }\n\n    this.setState({\n      position,\n      expandDirection,\n      verticalExpand,\n      expanded: true,\n    })\n  }\n\n  handleSelect = val => {\n    let { onSelect } = this.props\n\n    this.setState({ expanded: false })\n\n    if (onSelect) {\n      onSelect(val)\n    }\n  }\n\n  handleClickOutside = e => {\n    if (isDescendent(e.target, this.element)) {\n      return\n    }\n\n    this.setState({ expanded: false })\n  }\n\n  handleClose = () => {\n    this.setState({ expanded: false })\n  }\n\n  handleScroll = e => {\n    e.preventDefault()\n  }\n\n  handleKeyDown = e => {\n    if (e.which === ESC) {\n      this.setState({ expanded: false })\n    }\n  }\n\n  handleBlur = () => {\n    this.setState({ expanded: false })\n  }\n\n  elementRef = el => (this.element = el)\n\n  componentWillMount() {\n    window.addEventListener('blur', this.handleBlur)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('blur', this.handleBlur)\n  }\n\n  render() {\n    let {\n      children,\n      className,\n      menuClassName,\n      dark,\n      menu,\n      isStyledMenu,\n      rowHeight,\n      childWidth,\n    } = this.props\n\n    let { expandDirection, expanded, position, verticalExpand } = this.state\n\n    return (\n      <div\n        className={classNames(\n          'multi-menu-trigger',\n          className,\n          `expand-${verticalExpand}`,\n          { expanded, 'multi-menu-dark': dark }\n        )}\n        ref={this.elementRef}\n        onClick={stopPropagation}\n        onMouseDown={stopPropagation}\n        onDoubleClick={stopPropagation}\n        onMouseUp={stopPropagation}\n      >\n        {expanded ? (\n          <DocumentEvents\n            onWheel={this.handleScroll}\n            onKeyDown={this.handleKeyDown}\n          />\n        ) : null}\n        {expanded ? (\n          <MenuPortal>\n            <div\n              className=\"multi-menu-trigger-close\"\n              onMouseDown={this.handleClose}\n            />\n            <MultiMenuWrapper\n              isStyledMenu={isStyledMenu}\n              expandDirection={expandDirection}\n              verticalExpand={verticalExpand}\n              menu={menu}\n              onSelect={this.handleSelect}\n              position={position}\n              className={menuClassName}\n              rowHeight={rowHeight}\n              childWidth={childWidth}\n            />\n          </MenuPortal>\n        ) : null}\n        <div\n          className=\"multi-menu-trigger-element\"\n          onMouseDown={this.handleClick}\n        >\n          {children}\n        </div>\n      </div>\n    )\n  }\n}\n\nclass MenuPortal extends Component {\n  getNode() {\n    if (!this._node) {\n      this._node = document.createElement('div')\n      this._node.className = 'multi-menu-container'\n      document.body.appendChild(this._node)\n    }\n\n    return this._node\n  }\n\n  componentWillUnmount() {\n    window.setTimeout(() => {\n      // Remove node if exists\n      if (!this._node) {\n        return\n      }\n\n      document.body.removeChild(this._node)\n      this._node = null\n    }, 0)\n  }\n\n  render() {\n    let { children } = this.props\n\n    return ReactDOM.createPortal(\n      <React.Fragment>{children}</React.Fragment>,\n      this.getNode()\n    )\n  }\n}\n"]}