{"version":3,"sources":["../src/index.js"],"names":["TOP","Symbol","TOP_LEFT","TOP_RIGHT","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","DEFAULT_POSITION","matches","openPath","path","i","length","MultiMenuWrapper","props","handleHover","setState","state","align","isSubMenu","menu","position","onSelect","MultiMenu","basePath","onHover","map","itm","concat","MenuItem","handleClick","value","data","label","children"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component } from 'react'\n\n// Positions are symbols to prevent hardcoding values.\n// The only way to reference position is by directly importing.\nexport const TOP = Symbol('TOP')\nexport const TOP_LEFT = Symbol('TOP_LEFT')\nexport const TOP_RIGHT = Symbol('TOP_RIGHT')\n\nexport const BOTTOM = Symbol('BOTTOM')\nexport const BOTTOM_LEFT = Symbol('BOTTOM_LEFT')\nexport const BOTTOM_RIGHT = Symbol('BOTTOM_RIGHT')\n\nexport const DEFAULT_POSITION = BOTTOM\n\nexport const matches = (openPath, path) => {\n  for (let i = 0; i < path.length; i += 1) {\n    if (openPath[i] !== path[i]) {\n      return false\n    }\n  }\n\n  return true\n}\n\nexport default class MultiMenuWrapper extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      openPath: []\n    }\n  }\n\n  handleHover = openPath => {\n    this.setState({ openPath })\n  }\n\n  render() {\n    let { align, isSubMenu, menu, position, onSelect } = this.props\n    let { openPath } = this.state\n\n    return (\n      <div>\n        <MultiMenu\n          {...{ isSubMenu, onSelect }}\n          basePath={[]}\n          menu={menu}\n          openPath={openPath}\n          onHover={this.handleHover}\n        />\n      </div>\n    )\n  }\n}\n\nexport class MultiMenu extends Component {\n  render() {\n    let {\n      basePath,\n      isSubMenu,\n      menu,\n      onHover,\n      onSelect,\n      openPath,\n    } = this.props\n\n    return (\n      <div className=\"multi-menu\">\n        {menu.map((itm, i) => (\n          <MenuItem\n            key={i}\n            data={itm}\n            onHover={onHover}\n            onSelect={onSelect}\n            openPath={openPath}\n            path={basePath.concat([i])}\n          />\n        ))}\n      </div>\n    )\n  }\n}\n\nexport class MenuItem extends Component {\n  handleClick = e => {\n    let { data: { value }, onSelect } = this.props\n\n    onSelect(value)\n  }\n\n  handleHover = e => {\n    let { path, onHover } = this.props\n\n    onHover(path)\n  }\n\n  render() {\n    let { data, path, onHover, onSelect, openPath } = this.props\n\n    return (\n      <div className=\"multi-menu-item\" onMouseMove={this.handleHover}>\n        {data.label}\n        {matches(openPath, path) && data.children && data.children.length > 0\n          ? <MultiMenu\n              basePath={path}\n              menu={data.children}\n              onHover={onHover}\n              onSelect={onSelect}\n              openPath={openPath}\n            />\n          : null}\n      </div>\n    )\n  }\n}\n"]}